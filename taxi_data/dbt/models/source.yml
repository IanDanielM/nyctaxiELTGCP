version: 2

sources:
  - name: nyctaxi
    description: "Source data for the taxi dataset"
    tables:
      - name: green_taxi_trips
        description: "Raw taxi trip data from NYC"
        external:
          partitions:
            - name: year
              data_type: INT64
            - name: month
              data_type: INT64
          location: "gs://nyc-taxi-data-101253/taxi_type=green/*"
          options:
            format: 'PARQUET'
            hive_partition_uri_prefix: "gs://nyc-taxi-data-101253/taxi_type=green/"
        columns:
            - name: VendorID
              data_type: INTEGER
              description: "ID of the taxi vendor"
            - name: lpep_pickup_datetime
              data_type: TIMESTAMP
              description: "Pickup date and time"
            - name: lpep_dropoff_datetime
              data_type: TIMESTAMP
              description: "Dropoff date and time"
            - name: store_and_fwd_flag
              data_type: STRING
              description: "Store and forward flag"
            - name: RatecodeID
              data_type: FLOAT64
              description: "Rate code ID"
            - name: PULocationID
              data_type: INTEGER
              description: "Pickup location ID"
            - name: DOLocationID
              data_type: INTEGER
              description: "Dropoff location ID"
            - name: passenger_count
              data_type: FLOAT64
              description: "Number of passengers"
            - name: trip_distance
              data_type: FLOAT64
              description: "Distance of the trip in miles"
            - name: fare_amount
              data_type: FLOAT64
              description: "Fare amount for the trip"
            - name: extra
              data_type: FLOAT64
              description: "Extra charges for the trip"
            - name: mta_tax
              data_type: FLOAT64
              description: "MTA tax for the trip"
            - name: tip_amount
              data_type: FLOAT64
              description: "Tip amount for the trip"
            - name: tolls_amount
              data_type: FLOAT64
              description: "Tolls amount for the trip"
            - name: improvement_surcharge
              data_type: FLOAT64
              description: "Improvement surcharge for the trip"
            - name: ehail_fee
              data_type: INTEGER
              description: "E-hail fee for the trip"  
            - name: total_amount
              data_type: FLOAT64
              description: "Total amount for the trip"
            - name: payment_type
              data_type: FLOAT64
              description: "Payment type for the trip"
            - name: trip_type
              data_type: FLOAT64
              description: "Trip type for the trip"
            - name: congestion_surcharge
              data_type: FLOAT64
              description: "Congestion surcharge for the trip"

      - name: yellow_taxi_trips
        description: "Raw taxi trip data from NYC"
        external:
          partitions:
            - name: year
              data_type: INT64
            - name: month
              data_type: INT64
          location: "gs://nyc-taxi-data-101253/taxi_type=yellow/*"
          options:
            format: 'PARQUET'
            hive_partition_uri_prefix: 'gs://nyc-taxi-data-101253/taxi_type=yellow/'
        columns:
            - name: VendorID
              data_type: INTEGER
              description: "ID of the taxi vendor"
            - name: tpep_pickup_datetime
              data_type: TIMESTAMP
              description: "Pickup date and time"
            - name: tpep_dropoff_datetime
              data_type: TIMESTAMP
              description: "Dropoff date and time"
            - name: store_and_fwd_flag
              data_type: STRING
              description: "Store and forward flag"
            - name: RatecodeID
              data_type: FLOAT64
              description: "Rate code ID"
            - name: PULocationID
              data_type: INTEGER
              description: "Pickup location ID"
            - name: DOLocationID
              data_type: INTEGER
              description: "Dropoff location ID"
            - name: passenger_count
              data_type: FLOAT64
              description: "Number of passengers"
            - name: trip_distance
              data_type: FLOAT64
              description: "Distance of the trip in miles"
            - name: fare_amount
              data_type: FLOAT64
              description: "Fare amount for the trip"
            - name: extra
              data_type: FLOAT64
              description: "Extra charges for the trip"
            - name: mta_tax
              data_type: FLOAT64
              description: "MTA tax for the trip"
            - name: tip_amount
              data_type: FLOAT64
              description: "Tip amount for the trip"
            - name: tolls_amount
              data_type: FLOAT64
              description: "Tolls amount for the trip"
            - name: improvement_surcharge
              data_type: FLOAT64
              description: "Improvement surcharge for the trip"
            - name: total_amount
              data_type: FLOAT64
              description: "Total amount for the trip"
            - name: payment_type
              data_type: INTEGER
              description: "Payment type for the trip"
            - name: congestion_surcharge
              data_type: FLOAT64
              description: "Congestion surcharge for the trip"




          